<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Picross</title>
  <script type="text/javascript" src="js/phaser.min.js"></script>
  <link rel="stylesheet" type="text/css" href="css/styles.css">
</head>
<body>
<script type="text/javascript">

/*

    Picross in Phaser
    Copyright (C) 2017 Dakota Smith

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.

*/

/* Includes assets created by Kenney Vleugels (www.kenney.nl) */

var game = new Phaser.Game(1280, 720, Phaser.AUTO, '', { preload: preload, create: create, update: update });

WebFontConfig = {

    //  'active' means all requested fonts have finished loading
    //  We set a 1 second delay before calling 'createText'.
    //  For some reason if we don't the browser cannot render the text the first time it's created.
    active: function() { game.time.events.add(Phaser.Timer.SECOND, createText, this); },

    //  The Google Fonts we want to load (specify as many as you like in the array)
    google: {
      families: ['Oswald']
    }

};

function preload() {

  game.load.script('webfont', '//ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js');

  game.load.image('grey_arrowDownGrey', 'assets/UI/grey_arrowDownGrey.png');
  game.load.image('grey_arrowUpGrey', 'assets/UI/grey_arrowUpGrey.png');
  game.load.image('grey_box', 'assets/UI/grey_box.png');
  game.load.image('grey_boxCheckmark', 'assets/UI/grey_boxCheckmark.png');
  game.load.image('grey_boxCross', 'assets/UI/grey_boxCross.png');
  game.load.image('grey_button00', 'assets/UI/grey_button00.png');
  game.load.image('grey_button01', 'assets/UI/grey_button01.png');
  game.load.image('grey_button02', 'assets/UI/grey_button02.png');
  game.load.image('grey_button03', 'assets/UI/grey_button03.png');
  game.load.image('grey_button04', 'assets/UI/grey_button04.png');
  game.load.image('grey_button05', 'assets/UI/grey_button05.png');
  game.load.image('grey_button06', 'assets/UI/grey_button06.png');
  game.load.image('grey_button07', 'assets/UI/grey_button07.png');
  game.load.image('grey_button08', 'assets/UI/grey_button08.png');
  game.load.image('grey_button09', 'assets/UI/grey_button09.png');
  game.load.image('grey_button10', 'assets/UI/grey_button10.png');
  game.load.image('grey_button11', 'assets/UI/grey_button11.png');
  game.load.image('grey_button12', 'assets/UI/grey_button12.png');
  game.load.image('grey_button13', 'assets/UI/grey_button13.png');
  game.load.image('grey_button14', 'assets/UI/grey_button14.png');
  game.load.image('grey_button15', 'assets/UI/grey_button15.png');

  game.load.spritesheet('dude', 'assets/dude.png', 32, 48);
}

function create() {

   game.stage.setBackgroundColor(0x8d8def);


  function clickableSprite(x, y, main, alt) {
      var sprite;

      this.getSprite = function() {
        return this.sprite;
      };

      this.sprite = game.add.sprite(x, y, main);
      this.sprite.inputEnabled = true;
      this.sprite.input.useHandCursor = true;

      this.sprite.events.onInputDown.add(function() {
        this.sprite.loadTexture(alt);
        this.sprite.events.onInputUp.add(function() {
          this.sprite.loadTexture(main);
        }, this);
      }, this);

  }

  var sprite1 = new clickableSprite(545, 600, 'grey_button01', 'grey_button02');
  sprite1.getSprite().events.onInputUp.add(
    function() {
      document.getElementById("test").style.visibility = "hidden";
      sprite1.getSprite().destroy();
    }, this);

}

function render() {

}

function update() {


}

</script>

</body>
</html>